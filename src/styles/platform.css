/* ==================== PLATFORM-SPECIFIC STYLES ==================== */

/* iOS Specific Styles */
.platform-ios {
  /* iOS uses bounce scrolling */
  -webkit-overflow-scrolling: touch;
}

.platform-ios ion-toolbar {
  /* iOS toolbar style */
  --min-height: 44px;
}

.platform-ios ion-button {
  /* iOS button style */
  --border-radius: 10px;
}

.platform-ios ion-modal {
  /* iOS modal style */
  --border-radius: 10px 10px 0 0;
}

.platform-ios .floating-input-item {
  /* iOS input style - consistent rounded corners */
  border-radius: 15px;
  border-width: 1.5px;
  border-style: solid;
  border-color: #000000;
  -webkit-appearance: none;
  appearance: none;
}

/* Specific handling for iPhone notch devices */
.platform-ios.has-notch ion-header {
  padding-top: env(safe-area-inset-top);
}

.platform-ios.has-notch .page-header {
  padding-top: calc(env(safe-area-inset-top) + 10px);
}

.platform-ios.has-notch .home-content {
  padding-top: env(safe-area-inset-top);
}

/* Android Specific Styles */
.platform-android {
  /* Android uses standard scrolling */
  overflow-scrolling: auto;
}

.platform-android ion-toolbar {
  /* Android toolbar style */
  --min-height: 56px;
}

.platform-android .app-button-primary,
.platform-android .app-button-secondary {
  /* Match iOS button style for consistency */
  text-transform: none;
  letter-spacing: normal;
  border-radius: 15px;
  --border-radius: 15px;
}

.platform-android ion-button {
  /* Android button style - Material Design (for other buttons) */
  --border-radius: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.platform-android ion-modal {
  /* Android modal style */
  --border-radius: 4px;
}

.platform-android .floating-input-item {
  /* Match iOS input style for consistency */
  border-radius: 15px;
  border-width: 1.5px;
  border-style: solid;
  border-color: #000000;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

/* Android navigation bar */
.platform-android .tabbar-wrapper {
  padding-bottom: env(safe-area-inset-bottom);
}

.platform-android ion-content {
  /* Handle Android keyboard resize */
  --keyboard-offset: 0px;
}

/* Web Platform Specific */
.platform-web .floating-input-item {
  /* Match mobile input style for consistency */
  border-radius: 15px;
  border-width: 1.5px;
  border-style: solid;
  border-color: #000000;
}

.platform-web .qr-button {
  cursor: pointer;
}

.platform-web button,
.platform-web ion-button {
  cursor: pointer;
}

/* Landscape Mode Optimizations */
.landscape .welcome-container {
  flex-direction: row;
  padding: 1rem 2rem;
}

.landscape .auth-page-content {
  padding: 1rem 2rem;
}

.landscape .map-wrap {
  /* Adjust map for landscape */
  height: 100vh;
}

.landscape .nearby-wrap {
  max-width: 500px;
  left: 50%;
  transform: translateX(-50%);
}

/* Portrait Mode Optimizations */
.portrait .welcome-container {
  flex-direction: column;
}

/* Retina Display Optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .platform-ios .profile-avatar,
  .platform-android .profile-avatar {
    image-rendering: -webkit-optimize-contrast;
  }
  
  .auth-logo,
  .welcome-logo img {
    image-rendering: -webkit-optimize-contrast;
  }
}

/* Dark Mode Platform Adjustments */
.ion-palette-dark.platform-ios .main-tabbar {
  background: #1c1c1e;
  border-top-color: rgba(255, 255, 255, 0.1);
}

.ion-palette-dark.platform-android .main-tabbar {
  background: #121212;
  border-top-color: rgba(255, 255, 255, 0.12);
}

/* Accessibility - Larger text support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .floating-input-item {
    border-width: 2px;
  }
  
  ion-button {
    border: 2px solid currentColor;
  }
}

/* Foldable device support */
@media (horizontal-viewport-segments: 2) {
  .auth-page-container {
    max-width: 50vw;
  }
}

/* Tablet specific adjustments */
@media (min-width: 768px) and (max-width: 1024px) {
  .platform-ios ion-modal,
  .platform-android ion-modal {
    max-width: 600px;
    margin: 0 auto;
  }
  
  .auth-page-container {
    max-width: 500px;
  }
}

/* Small phone adjustments */
@media (max-width: 360px) {
  .platform-ios .floating-input-item,
  .platform-android .floating-input-item {
    font-size: 14px;
    height: 48px;
  }
  
  .platform-ios ion-button,
  .platform-android ion-button {
    font-size: 14px;
    height: 46px;
  }
}

/* Prevent zoom on input focus (while maintaining accessibility) */
@media (max-width: 1024px) {
  .platform-ios input,
  .platform-ios textarea,
  .platform-ios select,
  .platform-android input,
  .platform-android textarea,
  .platform-android select {
    font-size: 16px;
  }
}
